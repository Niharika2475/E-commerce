<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Simple E‑Commerce Demo</title>
  <style>
    :root{--accent:#0b7;--bg:#f6f7fb;--card:#fff;--muted:#6b7280}
    *{box-sizing:border-box}body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:var(--bg);margin:0;color:#111}
    header{background:#fff;padding:14px 20px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 1px 4px rgba(2,6,23,.06)}
    .brand{font-weight:700;letter-spacing:.4px}
    .container{max-width:1100px;margin:24px auto;padding:0 20px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:18px}
    .card{background:var(--card);border-radius:12px;padding:14px;box-shadow:0 6px 18px rgba(12,20,40,.06);display:flex;flex-direction:column}
    .img{height:160px;display:flex;align-items:center;justify-content:center;border-radius:8px;margin-bottom:12px;background:linear-gradient(135deg,#eef6f2,#f0fbf9)}
    .img img{max-height:140px;max-width:100%}
    .title{font-weight:600;margin:0 0 6px}
    .price{color:var(--accent);font-weight:700}
    .actions{margin-top:auto;display:flex;gap:8px}
    button{cursor:pointer;border:0;padding:8px 12px;border-radius:8px}
    .btn-primary{background:var(--accent);color:#022;}
    .btn-outline{background:transparent;border:1px solid #e6eef0}
    .cart-btn{position:relative}
    .cart-count{position:absolute;top:-6px;right:-8px;background:#ef4444;color:#fff;border-radius:999px;padding:3px 7px;font-size:12px}
    /* cart drawer */
    .drawer{position:fixed;right:20px;top:80px;width:360px;max-width:90vw;background:var(--card);box-shadow:0 12px 40px rgba(2,6,23,.18);border-radius:12px;padding:14px;display:none;flex-direction:column;z-index:40}
    .drawer.open{display:flex}
    .cart-list{max-height:320px;overflow:auto;margin-bottom:12px}
    .cart-item{display:flex;gap:10px;align-items:center;padding:8px;border-radius:8px}
    .cart-item img{width:56px;height:56px;object-fit:cover;border-radius:6px}
    .muted{color:var(--muted);font-size:13px}
    footer{padding:18px 20px;text-align:center;color:var(--muted);font-size:13px}
    /* responsive */
    @media (max-width:640px){header{padding:12px} .drawer{left:10px;right:10px;top:auto;bottom:20px;width:auto}}
  </style>
</head>
<body>
  <header>
    <div class="brand">Shoply — Demo</div>
    <div style="display:flex;align-items:center;gap:12px">
      <input id="search" placeholder="Search products..." style="padding:8px 10px;border-radius:8px;border:1px solid #e6eef0;font-size:14px" />
      <button class="cart-btn btn-outline" id="openCart">Cart <span class="cart-count" id="cartCount">0</span></button>
    </div>
  </header>

  <main class="container">
    <section style="display:flex;align-items:center;justify-content:space-between;margin-bottom:18px">
      <h2 style="margin:0">Featured Products</h2>
      <div class="muted">Fast demo: add items to cart & checkout locally</div>
    </section>

    <section class="grid" id="productGrid"></section>
  </main>

  <aside class="drawer" id="cartDrawer">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
      <strong>Your Cart</strong>
      <button id="closeCart" class="btn-outline">Close</button>
    </div>
    <div class="cart-list" id="cartList"></div>
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
      <div class="muted">Total</div>
      <div id="cartTotal" style="font-weight:700">₹0</div>
    </div>
    <form id="checkoutForm">
      <input name="name" placeholder="Full name" required style="width:100%;padding:8px;border-radius:8px;border:1px solid #e6eef0;margin-bottom:8px" />
      <input name="phone" placeholder="Phone or UPI ID" required style="width:100%;padding:8px;border-radius:8px;border:1px solid #e6eef0;margin-bottom:8px" />
      <button type="submit" class="btn-primary" style="width:100%;">Place Order</button>
    </form>
  </aside>

  <footer>Demo e‑commerce site — local cart only • No real payments</footer>

  <script>
    const products = [
      {id:1,title:'Wireless Earbuds',price:1999,img:'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="200"><rect width="100%" height="100%" fill="%23eef6f2"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="%23656" font-size="20">Earbuds</text></svg>'},
      {id:2,title:'Smartwatch',price:3499,img:'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="200"><rect width="100%" height="100%" fill="%23f7f3ff"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="%23656" font-size="20">Smartwatch</text></svg>'},
      {id:3,title:'Backpack',price:1299,img:'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="200"><rect width="100%" height="100%" fill="%23fff8ec"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="%23656" font-size="20">Backpack</text></svg>'},
      {id:4,title:'Sunglasses',price:799,img:'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="200"><rect width="100%" height="100%" fill="%23eef4ff"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="%23656" font-size="20">Sunglasses</text></svg>'}
    ];

    const productGrid = document.getElementById('productGrid');
    const cartDrawer = document.getElementById('cartDrawer');
    const cartList = document.getElementById('cartList');
    const cartCount = document.getElementById('cartCount');
    const cartTotal = document.getElementById('cartTotal');

    function renderProducts(list){
      productGrid.innerHTML = '';
      list.forEach(p => {
        const el = document.createElement('div'); el.className='card';
        el.innerHTML = `
          <div class="img"><img src="${p.img}" alt="${p.title}" /></div>
          <h3 class="title">${p.title}</h3>
          <div class="muted">Description lorem ipsum</div>
          <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
            <div class="price">₹${p.price}</div>
            <div class="actions">
              <button class="btn-outline" onclick="viewProduct(${p.id})">View</button>
              <button class="btn-primary" onclick="addToCart(${p.id})">Add</button>
            </div>
          </div>
        `;
        productGrid.appendChild(el);
      })
    }

    function viewProduct(id){
      const p = products.find(x=>x.id===id);
      alert(p.title + '\nPrice: ₹' + p.price + '\n\nThis is a demo product.');
    }

    function getCart(){
      return JSON.parse(localStorage.getItem('demo_cart')||'{}');
    }
    function saveCart(c){ localStorage.setItem('demo_cart', JSON.stringify(c)); }

    function addToCart(id){
      const c = getCart();
      c[id] = (c[id]||0) + 1;
      saveCart(c); updateCartUI();
      cartDrawer.classList.add('open');
    }

    function removeFromCart(id){
      const c = getCart(); delete c[id]; saveCart(c); updateCartUI();
    }

    function changeQty(id, delta){
      const c = getCart(); c[id] = (c[id]||0) + delta; if(c[id] <= 0) delete c[id]; saveCart(c); updateCartUI();
    }

    function updateCartUI(){
      const c = getCart(); const ids = Object.keys(c);
      cartList.innerHTML = '';
      let total = 0, count = 0;
      ids.forEach(id => {
        const qty = c[id], p = products.find(x=>x.id==id); if(!p) return;
        count += qty; total += p.price * qty;
        const item = document.createElement('div'); item.className='cart-item';
        item.innerHTML = `
          <img src="${p.img}" alt="${p.title}" />
          <div style="flex:1">
            <div style="display:flex;justify-content:space-between"><div>${p.title}</div><div class="muted">₹${p.price}</div></div>
            <div style="margin-top:6px;display:flex;align-items:center;gap:8px">
              <button onclick="changeQty(${p.id},-1)" class="btn-outline">−</button>
              <div class="muted">${qty}</div>
              <button onclick="changeQty(${p.id},1)" class="btn-outline">+</button>
              <button onclick="removeFromCart(${p.id})" class="btn-outline" style="margin-left:auto">Remove</button>
            </div>
          </div>
        `;
        cartList.appendChild(item);
      });
      cartCount.textContent = count;
      cartTotal.textContent = '₹' + total;
    }

    document.getElementById('openCart').addEventListener('click',()=>cartDrawer.classList.toggle('open'));
    document.getElementById('closeCart').addEventListener('click',()=>cartDrawer.classList.remove('open'));

    document.getElementById('checkoutForm').addEventListener('submit', e=>{
      e.preventDefault();
      const c = getCart(); if(Object.keys(c).length===0){ alert('Your cart is empty'); return; }
      const form = new FormData(e.target); const order = {name:form.get('name'),phone:form.get('phone'),items:c,total:cartTotal.textContent,when:new Date().toISOString()};
      localStorage.removeItem('demo_cart'); updateCartUI(); cartDrawer.classList.remove('open');
      alert('Order placed (demo) — ' + JSON.stringify(order));
    });

    document.getElementById('search').addEventListener('input', e=>{
      const q = e.target.value.toLowerCase(); renderProducts(products.filter(p=>p.title.toLowerCase().includes(q)));
    });

    renderProducts(products); updateCartUI();
  </script>
</body>
</html>
